"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
var tablestore_1 = __importDefault(require("tablestore"));
var tablestoreInitialzerPlugin = function () {
    var endpoint = process.env.tablestore_endpoint;
    var instanceName = process.env.tablestore_instanceName;
    return {
        initializer: function (_a) {
            var context = _a.context;
            var tableClient = new tablestore_1.default.Client({
                accessKeyId: context.credentials.accessKeyId,
                accessKeySecret: context.credentials.accessKeySecret,
                stsToken: context.credentials.securityToken,
                endpoint: endpoint,
                instancename: instanceName,
            });
            return {
                tableClient: tableClient,
                TableStore: tablestore_1.default,
            };
        },
    };
};
module.exports = tablestoreInitialzerPlugin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDBEQUFvQztBQUVwQyxJQUFNLDBCQUEwQixHQUFHO0lBQ2pDLElBQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7SUFDakQsSUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQztJQUN6RCxPQUFPO1FBQ0wsV0FBVyxFQUFFLFVBQUMsRUFBVztnQkFBVCxPQUFPLGFBQUE7WUFDckIsSUFBTSxXQUFXLEdBQUcsSUFBSSxvQkFBVSxDQUFDLE1BQU0sQ0FBQztnQkFDeEMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxXQUFXLENBQUMsV0FBVztnQkFDNUMsZUFBZSxFQUFFLE9BQU8sQ0FBQyxXQUFXLENBQUMsZUFBZTtnQkFDcEQsUUFBUSxFQUFFLE9BQU8sQ0FBQyxXQUFXLENBQUMsYUFBYTtnQkFDM0MsUUFBUSxVQUFBO2dCQUNSLFlBQVksRUFBRSxZQUFZO2FBQzNCLENBQUMsQ0FBQztZQUNILE9BQU87Z0JBQ0wsV0FBVyxhQUFBO2dCQUNYLFVBQVUsRUFBRSxvQkFBVTthQUN2QixDQUFDO1FBQ0osQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixpQkFBUywwQkFBMEIsQ0FBQyJ9